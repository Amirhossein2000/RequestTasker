version: "3"

tasks:
  generate-api:
    cmds:
      - oapi-codegen -generate types,server,strict-server,spec -package api ./openapi/api.yml > ./internal/app/api/api.gen.go
  generate-mock:
    cmds:
      - go generate ./internal/domian/entities
  build:
    cmds:
    - go build -o ./bin ./cmd/
  test-db:
    cmds:
    - go test -v -count=1 RequestTasker/internal/infrastructures/mysql
  test-usecase:
    cmds:
    - go test -v -count=1 RequestTasker/internal/app/usecases
  test-kafka:
    cmds:
    - go test -v -count=1 RequestTasker/internal/infrastructures/kafka

# setup dependencies

# clean dependencies

# run

# stop

# migration

# clean db

# test

# test integration
